"use strict";(self["webpackChunkDANER"]=self["webpackChunkDANER"]||[]).push([[458],{6458:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var o=n(3673);const a=(0,o.HX)("data-v-060cdd2e");(0,o.dD)("data-v-060cdd2e");const l={class:"myContainer"};(0,o.Cn)();const i=a(((e,t,n,i,r,s)=>{const d=(0,o.up)("ner-configuration"),u=(0,o.up)("ner-annotation-render"),c=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(c,{padding:""},{default:a((()=>[(0,o.Wm)("div",l,[(0,o.Wm)(d),i.startAnnotation?((0,o.wg)(),(0,o.j4)(u,{key:0})):(0,o.kq)("",!0)])])),_:1})}));var r=n(8825),s=n(7874);const d=(0,o.HX)("data-v-511eeee8");(0,o.dD)("data-v-511eeee8");const u=(0,o.Wm)("div",{class:"text-h4"},"Annotation",-1),c={class:"q-gutter-sm"};(0,o.Cn)();const m=d(((e,t,n,a,l,i)=>{const r=(0,o.up)("q-card-section"),s=(0,o.up)("q-btn"),m=(0,o.up)("q-radio"),p=(0,o.up)("q-separator"),g=(0,o.up)("token-render"),f=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(f,null,{default:d((()=>[(0,o.Wm)(r,{class:"bg-primary text-white q-pa-sm",align:"center"},{default:d((()=>[u])),_:1}),(0,o.Wm)(r,{class:"flex justify-between"},{default:d((()=>[(0,o.Wm)("div",null,[(0,o.Wm)(s,{dense:"",round:"",color:"primary",icon:"arrow_back",class:"q-ma-sm",onClick:a.retrievePrev},null,8,["onClick"]),(0,o.Wm)(s,{dense:"",round:"",color:"primary",icon:"arrow_forward",class:"q-ma-sm",onClick:a.retrieveNext},null,8,["onClick"])]),(0,o.Wm)("div",null,[(0,o.Wm)(s,{dense:"",round:"",color:"primary",icon:"done",class:"q-ma-sm",onClick:a.onSubmitAnnotation},null,8,["onClick"]),(0,o.Wm)(s,{dense:"",round:"",color:"primary",icon:"close",class:"q-ma-sm",onClick:a.onRejectAnnotation},null,8,["onClick"])])])),_:1}),(0,o.Wm)(r,null,{default:d((()=>[(0,o.Wm)("div",c,[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(a.entList,((e,n)=>((0,o.wg)(),(0,o.j4)(m,{modelValue:a.curEnt,"onUpdate:modelValue":t[1]||(t[1]=e=>a.curEnt=e),"keep-color":"",key:n,val:e.val,label:e.label,color:e.color},null,8,["modelValue","val","label","color"])))),128))])])),_:1}),(0,o.Wm)(p),(0,o.Wm)(r,null,{default:d((()=>[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(a.contentList,((e,t)=>((0,o.wg)(),(0,o.j4)(g,{key:t,id:e.id,token:e,onMousedown:a.handleMouseDown,onMouseup:a.handleMouseUp},null,8,["id","token","onMousedown","onMouseup"])))),128))])),_:1})])),_:1})}));var p=n(2323);const g=(0,o.HX)("data-v-aab4369a");(0,o.dD)("data-v-aab4369a");const f={key:0,class:"label-entity"};(0,o.Cn)();const v=g(((e,t,n,a,l,i)=>{const r=(0,o.up)("q-btn"),s=(0,o.up)("q-banner"),d=(0,o.up)("q-tooltip");return(0,o.wg)(),(0,o.j4)("span",{id:n.id},[""!==n.token.color&&n.token.confidence>=a.conf?((0,o.wg)(),(0,o.j4)(r,{key:0,dense:"",flat:"","no-caps":"",style:{background:a.getColor(n.token)}},{default:g((()=>[(0,o.Uk)((0,p.zw)(n.token.token)+" ",1),""!==n.token.color?((0,o.wg)(),(0,o.j4)("span",f,(0,p.zw)(n.token.label),1)):(0,o.kq)("",!0)])),_:1},8,["style"])):((0,o.wg)(),(0,o.j4)(s,{key:1,dense:""},{default:g((()=>[(0,o.Uk)((0,p.zw)(n.token.token),1)])),_:1})),a.showConfidence?((0,o.wg)(),(0,o.j4)(d,{key:2,offset:[0,4]},{default:g((()=>[(0,o.Uk)((0,p.zw)(n.token.confidence.toFixed(3)),1)])),_:1})):(0,o.kq)("",!0)],8,["id"])}));var k=n(2156);const w={props:["token","id"],setup(){const e=(0,s.oR)(),{getPaletteColor:t}=k.ZP,n=(0,o.Fl)({get:()=>e.state.annotationNer.showConfidence}),a=(0,o.Fl)({get:()=>e.state.annotationNer.autoSuggestStrength/100});function l(e){return""!==e.color?t(e.color):"#fff"}return{conf:a,showConfidence:n,getColor:l}}};var N=n(8240),L=n(5607),S=n(8870),A=n(7518),y=n.n(A);w.render=v,w.__scopeId="data-v-aab4369a";const h=w;y()(w,"components",{QBtn:N.Z,QBanner:L.Z,QTooltip:S.Z});const C={components:{tokenRender:h},setup(){const e=(0,r.Z)(),t=(0,s.oR)(),n=(0,o.Fl)({get:()=>t.state.annotationNer.startIndex,set:e=>{t.commit("annotationNer/updateStartIndex",e)}}),a=(0,o.Fl)({get:()=>t.state.annotationNer.curEnt,set:e=>{t.commit("annotationNer/updateCurEnt",e)}}),l=(0,o.Fl)((()=>t.state.annotationNer.result)),i=(0,o.Fl)((()=>t.getters["annotationNer/getEntList"])),d=(0,o.Fl)((()=>t.getters["annotationNer/getContentList"]));function u(e){const t=e.currentTarget;n.value=t.id}function c(e){const o=e.currentTarget;n.value===o.id?t.commit("annotationNer/toggleLabel",o.id):t.commit("annotationNer/addLabel",{endIndex:o.id}),n.value=null,window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}function m(){e.notify({position:"top",spinner:!0,message:"Send to backend",timeout:1e3}),t.dispatch("annotationNer/updateDataset")}function p(){t.dispatch("annotationNer/getDataset")}function g(){t.commit("annotationNer/retrieveHistoryPrev")}function f(){t.commit("annotationNer/retrieveHistoryNext")}return{curEnt:a,result:l,entList:i,contentList:d,handleMouseDown:u,handleMouseUp:c,onSubmitAnnotation:m,onRejectAnnotation:p,retrievePrev:g,retrieveNext:f}}};var W=n(151),b=n(5589),q=n(7991),_=n(5869);C.render=m,C.__scopeId="data-v-511eeee8";const V=C;y()(C,"components",{QCard:W.Z,QCardSection:b.Z,QBtn:N.Z,QRadio:q.Z,QSeparator:_.Z});const x=(0,o.Wm)("div",{class:"text-h4"},"Annotation Configuration",-1),Z={class:"row",style:{}},D={class:"col"},E={class:"q-gutter-md row"},j=(0,o.Wm)("br",null,null,-1),F={class:"q-gutter-sm"},Q={class:"col q-ma-sm"},R=(0,o.Uk)(" Confidence Level: 0 "),T=(0,o.Uk)(" 100 "),U={class:"q-gutter-md row"},O={class:"q-gutter-md"},M={class:"q-gutter-md row items-start"},P={key:0,class:"q-mt-md"},z={class:"q-mt-md"};function H(e,t,n,a,l,i){const r=(0,o.up)("q-card-section"),s=(0,o.up)("q-select"),d=(0,o.up)("q-checkbox"),u=(0,o.up)("q-btn"),c=(0,o.up)("q-separator"),m=(0,o.up)("q-toggle"),p=(0,o.up)("q-item-section"),g=(0,o.up)("q-slider"),f=(0,o.up)("q-item"),v=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"bg-primary text-white q-pa-sm",align:"center"},{default:(0,o.w5)((()=>[x])),_:1}),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)("div",Z,[(0,o.Wm)("div",D,[(0,o.Wm)("div",E,[(0,o.Wm)(s,{filled:"",modelValue:a.dataset,"onUpdate:modelValue":t[1]||(t[1]=e=>a.dataset=e),options:a.ALL_DATASETS,label:"Datasets",style:{width:"150px"}},null,8,["modelValue","options"]),(0,o.Wm)(s,{filled:"",modelValue:a.model,"onUpdate:modelValue":t[2]||(t[2]=e=>a.model=e),options:a.ALL_MODELS,label:"Model",style:{width:"150px"}},null,8,["modelValue","options"])]),j,(0,o.Wm)("div",F,[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(a.ALL_ENTS,((e,n)=>((0,o.wg)(),(0,o.j4)(d,{modelValue:a.ents,"onUpdate:modelValue":t[3]||(t[3]=e=>a.ents=e),"keep-color":"",key:n,val:e.val,label:e.label,color:e.color},null,8,["modelValue","val","label","color"])))),128))]),(0,o.Wm)(u,{color:"primary",label:"Select All",onClick:a.onSelectALL},null,8,["onClick"]),(0,o.Wm)(u,{color:"secondary",label:"Default",onClick:a.onSelectDefault,class:"q-ma-md"},null,8,["onClick"]),(0,o.Wm)(u,{color:"primary",label:"Reset",flat:"",onClick:a.onResetLabel,class:"q-ma-md"},null,8,["onClick"])]),(0,o.Wm)(c,{vertical:""}),(0,o.Wm)("div",Q,[(0,o.Wm)("div",null,[(0,o.Wm)(m,{label:"Auto Suggestion",modelValue:a.showConfidence,"onUpdate:modelValue":t[4]||(t[4]=e=>a.showConfidence=e)},null,8,["modelValue"]),a.showConfidence?((0,o.wg)(),(0,o.j4)(f,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{side:""},{default:(0,o.w5)((()=>[R])),_:1}),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:a.autoSuggestStrength,"onUpdate:modelValue":t[5]||(t[5]=e=>a.autoSuggestStrength=e),min:0,max:100,label:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(p,{side:""},{default:(0,o.w5)((()=>[T])),_:1})])),_:1})):(0,o.kq)("",!0)]),(0,o.Wm)("div",null,[(0,o.Wm)("div",U,[(0,o.Wm)(m,{label:"Active Learning",modelValue:a.activeLearningOn,"onUpdate:modelValue":t[6]||(t[6]=e=>a.activeLearningOn=e)},null,8,["modelValue"]),a.activeLearningOn?((0,o.wg)(),(0,o.j4)(s,{key:0,filled:"",modelValue:a.al,"onUpdate:modelValue":t[7]||(t[7]=e=>a.al=e),options:a.ALL_ALS,label:"AL Algorithm",style:{width:"150px"}},null,8,["modelValue","options"])):(0,o.kq)("",!0)])]),(0,o.Wm)("div",O,[(0,o.Wm)("div",M,[(0,o.Wm)(u,{color:"primary",label:"start",onClick:a.onStartAnnotation,class:"q-ma-md"},null,8,["onClick"])])]),a.startAnnotation?((0,o.wg)(),(0,o.j4)("div",P,[(0,o.Wm)(c,{horizontal:""}),(0,o.Wm)("div",z,[(0,o.Wm)(m,{label:"Early Phase (Demo Only)",modelValue:a.earlyPhaseOn,"onUpdate:modelValue":t[8]||(t[8]=e=>a.earlyPhaseOn=e)},null,8,["modelValue"])])])):(0,o.kq)("",!0)])])])),_:1})])),_:1})}var I=n(1959);const B={setup(){const e=(0,r.Z)(),t=(0,s.oR)(),n=(0,o.Fl)({get:()=>t.state.annotationNer.earlyPhaseOn,set:e=>{t.commit("annotationNer/updateEarlyPhaseOn",e)}}),a=(0,o.Fl)({get:()=>t.state.annotationNer.activeLearningOn,set:e=>{t.commit("annotationNer/updateActiveLearningOn",e)}}),l=(0,o.Fl)({get:()=>t.state.annotationNer.showConfidence,set:e=>{t.commit("annotationNer/updateShowConfidence",e)}}),i=(0,o.Fl)({get:()=>t.state.annotationNer.autoSuggestStrength,set:e=>{t.commit("annotationNer/updateAutoSuggestStrength",e)}}),d=(0,o.Fl)({get:()=>t.state.annotationNer.tradeoff,set:e=>{t.commit("annotationNer/updateTradeoff",e)}}),u=(0,o.Fl)((()=>t.state.annotationNer.startAnnotation)),c=t.state.annotationNer.ALL_MODELS,m=t.state.annotationNer.ALL_DATASETS,p=t.state.annotationNer.ALL_ALS,g=t.state.annotationNer.ALL_ENTS,f=(0,I.iH)(null),v=(0,o.Fl)({get:()=>t.state.annotationNer.text,set:e=>{t.commit("annotationNer/updateText",e)}}),k=(0,o.Fl)({get:()=>t.state.annotationNer.ents,set:e=>{t.commit("annotationNer/updateEnts",e)}}),w=(0,o.Fl)({get:()=>t.state.annotationNer.model,set:e=>{t.commit("annotationNer/updateModel",e)}}),N=(0,o.Fl)({get:()=>t.state.annotationNer.dataset,set:e=>{t.commit("annotationNer/updateDataset",e)}}),L=(0,o.Fl)({get:()=>t.state.annotationNer.al,set:e=>{t.commit("annotationNer/updateAL",e)}}),S=(0,o.Fl)((()=>t.state.annotationNer.result)),A=[e=>e&&e.length>0||"Please type something to analyze!",e=>e&&e.length<1500||"Text too long"];function y(){k.value=t.getters["annotationNer/getAllEnts"]}function h(){k.value=t.getters["annotationNer/getDefaultEnts"]}function C(){k.value=[]}function W(){t.commit("annotationNer/updateStartAnnotation",!0),t.dispatch("annotationNer/getDataset")}function b(){f.value.validate(),f.value.hasError?e.notify({color:"negative",message:"No content to analyze"}):e.notify({icon:"done",color:"positive",message:"Send to server for analyze"}),t.dispatch("annotationNer/analyzeText",{textInput:v.value})}function q(){v.value=null,f.value.resetValidation()}return{earlyPhaseOn:n,activeLearningOn:a,showConfidence:l,autoSuggestStrength:i,tradeoff:d,text:v,textRef:f,textRules:A,result:S,ents:k,model:w,dataset:N,al:L,startAnnotation:u,ALL_ENTS:g,ALL_MODELS:c,ALL_DATASETS:m,ALL_ALS:p,onSelectALL:y,onSelectDefault:h,onResetLabel:C,onStartAnnotation:W,onSubmit:b,onReset:q}}};var K=n(5987),X=n(5735),Y=n(8886),G=n(3414),J=n(2035),$=n(2064);B.render=H;const ee=B;y()(B,"components",{QCard:W.Z,QCardSection:b.Z,QSelect:K.Z,QCheckbox:X.Z,QBtn:N.Z,QSeparator:_.Z,QToggle:Y.Z,QItem:G.Z,QItemSection:J.Z,QSlider:$.Z});const te={components:{NerAnnotationRender:V,NerConfiguration:ee},setup(){(0,r.Z)();const e=(0,s.oR)(),t=(0,o.Fl)((()=>e.state.annotationNer.startAnnotation));return{startAnnotation:t}}};var ne=n(4379);te.render=i,te.__scopeId="data-v-060cdd2e";const oe=te;y()(te,"components",{QPage:ne.Z,QCard:W.Z})}}]);